webpackJsonp([7],{250:function(t,e,n){"use strict";function a(t){l||n(833)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(463),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n(835),d=n.n(s),l=!1,c=n(4),u=a,p=c(o.a,d.a,!1,u,"data-v-192eb54c",null);p.options.__file="src\\views\\goods\\goods.vue",e.default=p.exports},258:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"picCard",props:{image:{type:String,default:""}}}},259:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),o=(a(i),n(7)),r=a(o);e.default={data:function(){return{uploadList:[],file:null}},watch:{defaultList:function(t){this.$refs.upload.fileList=t,this.uploadList=this.$refs.upload.fileList}},props:{more:{type:Boolean,default:!0},actionURL:{type:String,default:""},defaultList:{default:[]}},computed:{headers:function(){return{Authorization:r.default.get("token")}}},methods:{handleSuccess:function(t,e){1===t.status?(e.url=t.url,this.$Message.success(t.msg),this.$emit("success",this.uploadList)):this.$Message.warning(t.msg)},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1)},handleFormatError:function(t){this.$Notice.warning({title:"文件格式不正确",desc:"文件： "+t.name+" 格式不正确,请上传['jpg','jpeg','png']."})},handleMaxSize:function(t){this.$Notice.warning({title:"文件大小超出限制",desc:"文件：  "+t.name+" 太大, 超出2M限制."})},handleBeforeUpload:function(t){this.uploadList.length<5||(this.uploadList.pop(),this.$Notice.warning({title:"上传图片最大不超过5张."}))}},mounted:function(){this.uploadList=this.$refs.upload.fileList}}},260:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"edit-Num",data:function(){return{money:this.$props.text}},props:{max:{type:Number,default:1e3},min:{type:Number,default:0},step:{type:Number,default:1},status:{type:Boolean,default:!0},text:{type:[Number,String],default:""}},methods:{edit:function(){this.$emit("edit",!this.$props.status)},sure:function(){this.$emit("edit",!this.$props.status),this.$emit("sure",this.money)}}}},266:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.editNum=e.picList=e.picCard=e.footer=void 0;var i=n(267),o=a(i),r=n(271),s=a(r),d=n(275),l=a(d),c=n(279),u=a(c);e.footer=o.default,e.picCard=s.default,e.picList=l.default,e.editNum=u.default},267:function(t,e,n){"use strict";function a(t){r||n(268)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(270),o=n.n(i),r=!1,s=n(4),d=a,l=s(null,o.a,!1,d,"data-v-f4b6862c",null);l.options.__file="src\\views\\my-components\\footer\\index.vue",e.default=l.exports},268:function(t,e,n){var a=n(269);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(15)("7d3f1505",a,!1,{})},269:function(t,e,n){e=t.exports=n(14)(!1),e.push([t.i,"\n.footer[data-v-f4b6862c] {\n  height: 50px;\n  width: 100%;\n  background: #f8f8f9;\n  position: fixed;\n  bottom: 0;\n  z-index: 999;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: start;\n      justify-content: flex-start;\n  box-shadow: 0 2px 1px 1px rgba(100, 100, 100, 0.1);\n  padding: 0 10px;\n}\n",""])},270:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"footer"},[t._t("content")],2)},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.default=o},271:function(t,e,n){"use strict";function a(t){l||n(272)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(258),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n(274),d=n.n(s),l=!1,c=n(4),u=a,p=c(o.a,d.a,!1,u,"data-v-103c3d32",null);p.options.__file="src\\views\\my-components\\picCard\\index.vue",e.default=p.exports},272:function(t,e,n){var a=n(273);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(15)("e715758c",a,!1,{})},273:function(t,e,n){e=t.exports=n(14)(!1),e.push([t.i,"\n.pic-card[data-v-103c3d32] {\n  padding: 5px 0;\n  border-radius: 5px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  width: 100%;\n}\n.pic-card img[data-v-103c3d32] {\n  width: 100%;\n  height: auto;\n  -o-object-fit: fill;\n     object-fit: fill;\n}\n",""])},274:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pic-card"},[n("img",{attrs:{src:t.image,alt:""}})])},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.default=o},275:function(t,e,n){"use strict";function a(t){l||n(276)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(259),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n(278),d=n.n(s),l=!1,c=n(4),u=a,p=c(o.a,d.a,!1,u,null,null);p.options.__file="src\\views\\my-components\\picList\\index.vue",e.default=p.exports},276:function(t,e,n){var a=n(277);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(15)("1726d262",a,!1,{})},277:function(t,e,n){e=t.exports=n(14)(!1),e.push([t.i,"\n.demo-upload-list {\r\n  display: inline-block;\r\n  width: 60px;\r\n  height: 60px;\r\n  text-align: center;\r\n  line-height: 60px;\r\n  border: 1px solid transparent;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  background: #fff;\r\n  position: relative;\r\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);\r\n  margin-right: 4px;\n}\n.demo-upload-list img {\r\n  width: 100%;\r\n  height: 100%;\n}\n.demo-upload-list-cover {\r\n  display: none;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.6);\n}\n.demo-upload-list:hover .demo-upload-list-cover {\r\n  display: block;\n}\n.demo-upload-list-cover i {\r\n  color: #fff;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  margin: 0 2px;\n}\r\n",""])},278:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.uploadList,function(e,a){return n("div",{key:a,staticClass:"demo-upload-list"},["finished"===e.status?[n("img",{attrs:{src:e.url}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!(!t.more&&t.defaultList.length>=1),expression:"!(!more&&defaultList.length>=1)"}],staticClass:"demo-upload-list-cover"},[n("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(n){t.handleRemove(e)}}})],1)]:[e.showProgress?n("Progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)}),t._v(" "),n("Upload",{directives:[{name:"show",rawName:"v-show",value:!(!t.more&&t.defaultList.length>=1),expression:"!(!more&&defaultList.length>=1)"}],ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"on-success":t.handleSuccess,"default-file-list":t.defaultList,format:["jpg","jpeg","png"],headers:t.headers,"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,multiple:"",type:"drag",action:t.actionURL}},[n("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[n("Icon",{attrs:{type:"camera",size:"20"}})],1)])],2)},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.default=o},279:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(260),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);var r=n(280),s=n.n(r),d=n(4),l=d(i.a,s.a,!1,null,null,null);l.options.__file="src\\views\\my-components\\editNum\\index.vue",e.default=l.exports},280:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],attrs:{type:"flex",align:"middle",justify:"space-between"}},[n("Col",{attrs:{span:"12"}},[n("InputNumber",{attrs:{max:t.max,min:t.min,step:t.step},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}})],1),t._v(" "),n("Col",{attrs:{span:"6"}},[n("Button",{attrs:{type:"success",icon:"checkmark-round",size:"small"},on:{click:t.sure}})],1)],1),t._v(" "),n("Row",{directives:[{name:"show",rawName:"v-show",value:!t.status,expression:"!status"}],attrs:{type:"flex",align:"middle",justify:"space-between"}},[n("Col",{attrs:{span:"12"}},[t._v("\n    "+t._s(t.text)+"\n    ")]),t._v(" "),n("Col",{attrs:{span:"6"}},[n("Button",{attrs:{type:"info",icon:"edit",size:"small"},on:{click:t.edit}})],1)],1)],1)},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.default=o},290:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=[{type:0,name:"凉果蜜饯"},{type:1,name:"膨化食品"},{type:2,name:"代餐零食"},{type:3,name:"个性零食"},{type:4,name:"饼干"},{type:5,name:"肉干鱼干"},{type:6,name:"口香糖"},{type:7,name:"果冻"},{type:8,name:"干果"}];e.default=a},463:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),o=a(i),r=n(290),s=a(r),d=n(266);e.default={name:"goods",data:function(){var t=this;return{total:0,pageData:{page:1,size:10,name:null},foodsType:s.default,tabelLoading:!0,goodsData:[],goodsColumns:[{type:"index",width:60,fixed:"left",align:"center"},{title:"食物名称",width:120,align:"center",key:"name"},{title:"食物类型",width:120,align:"center",key:"type"},{title:"品牌",width:120,align:"center",key:"brand"},{title:"库存",width:120,align:"center",key:"inventory"},{title:"生产地址",width:120,align:"center",render:function(t,e){var n=e.row.pdtArea;return t("Poptip",{props:{trigger:"hover",width:150,maxHeight:300,placement:"bottom",content:n}},n.length>10?n.substring(0,10)+"...":n)}},{title:"生产时间",width:120,align:"center",key:"pdtTime"},{title:"保质期",width:120,align:"center",key:"shelfLife"},{title:"图片",width:120,align:"center",render:function(t,e){return t(d.picCard,{props:{image:e.row.image.split(";")[0]}})}},{title:"描述",width:120,align:"center",render:function(t,e){var n=e.row.introduce;return t("Poptip",{props:{trigger:"hover",width:150,maxHeight:300,placement:"bottom",content:n}},n.length>10?n.substring(0,10)+"...":n)}},{title:"当前价格",width:120,align:"center",key:"price"},{title:"以往价格",width:120,align:"center",key:"oldPrice"},{title:"操作",fixed:"right",width:150,align:"center",render:function(e,n){var a=void 0,i=void 0;switch(n.row.status){case 0:a="success",i="上架";break;case 1:a="warning",i="下架"}return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$router.push({name:"goods_edit",params:{goodsId:n.row.id}})}}},"编辑"),e("Button",{props:{type:a,loading:n.row.loading,size:"small"},on:{click:function(){n.row.loading=!0,o.default.ajax.post("/api/cms/goods/remove",{id:n.row.id,status:2+~n.row.status}).then(function(t){n.row.loading=!1,1===t.data.status&&(n.row.status=2+~n.row.status)}).catch(function(t){n.row.loading=!1})}}},i)])}}]}},components:{"my-footer":d.footer},methods:{getPage:function(t){this.pageData.page=t,this.getGoods()},getPageSize:function(t){this.pageData.size=t,this.getGoods()},query:function(){this.pageData.page=1,this.getGoods()},getGoods:function(){var t=this;o.default.ajax.post("/api/cms/goods/readPart",this.pageData).then(function(e){t.tabelLoading=!1,1===e.data.status&&(t.goodsData=e.data.data.map(function(e,n){for(var a in e)"pdtTime"===a?e.pdtTime=new Date(parseInt(e.pdtTime)).Format("yyyy-MM-dd"):"type"===a&&(e.type=t.foodsType[e.type].name);return e.loading=!1,e}),t.total=e.data.total)}).catch(function(e){t.tabelLoading=!1})}},mounted:function(){this.getGoods()}}},833:function(t,e,n){var a=n(834);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(15)("8f8d2752",a,!1,{})},834:function(t,e,n){e=t.exports=n(14)(!1),e.push([t.i,"\n.margin-top-8[data-v-192eb54c] {\n  margin-top: 8px;\n}\n.margin-top-10[data-v-192eb54c] {\n  margin-top: 10px;\n}\n.margin-top-20[data-v-192eb54c] {\n  margin-top: 20px;\n}\n.margin-left-10[data-v-192eb54c] {\n  margin-left: 10px;\n}\n.margin-bottom-10[data-v-192eb54c] {\n  margin-bottom: 10px;\n}\n.margin-bottom-100[data-v-192eb54c] {\n  margin-bottom: 100px;\n}\n.margin-right-10[data-v-192eb54c] {\n  margin-right: 10px;\n}\n.padding-left-6[data-v-192eb54c] {\n  padding-left: 6px;\n}\n.padding-left-8[data-v-192eb54c] {\n  padding-left: 5px;\n}\n.padding-left-10[data-v-192eb54c] {\n  padding-left: 10px;\n}\n.padding-left-20[data-v-192eb54c] {\n  padding-left: 20px;\n}\n.height-100[data-v-192eb54c] {\n  height: 100%;\n}\n.height-120px[data-v-192eb54c] {\n  height: 100px;\n}\n.height-200px[data-v-192eb54c] {\n  height: 200px;\n}\n.height-492px[data-v-192eb54c] {\n  height: 492px;\n}\n.height-460px[data-v-192eb54c] {\n  height: 460px;\n}\n.line-gray[data-v-192eb54c] {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap[data-v-192eb54c] {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5[data-v-192eb54c] {\n  padding-left: 10px;\n}\n.text-right-gray[data-v-192eb54c] {\n  float: right;\n  color: #ccc;\n}\n[v-cloak][data-v-192eb54c] {\n  display: none;\n}\n",""])},835:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",{staticClass:"margin-bottom-100"},[n("Col",{attrs:{span:"18"}},[n("Card",[n("Table",{ref:"tabel",attrs:{data:t.goodsData,columns:t.goodsColumns,stripe:"",loading:t.tabelLoading,border:!0}})],1)],1),t._v(" "),n("Col",{staticClass:"padding-left-6",attrs:{span:"6"}},[n("Card",{staticStyle:{position:"fixed"}},[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"ios-flask"}}),t._v(" "),n("span",[t._v("操作")])],1),t._v(" "),n("div",{staticClass:"margin-bottom-10"},[n("span",[t._v("食物名：")]),t._v(" "),n("Input",{attrs:{icon:"pizza",placeholder:"输入食物名"},model:{value:t.pageData.name,callback:function(e){t.$set(t.pageData,"name",e)},expression:"pageData.name"}})],1),t._v(" "),n("Button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("查询")])],1)],1)],1),t._v(" "),n("my-footer",[n("div",{attrs:{slot:"content"},slot:"content"},[n("Page",{attrs:{total:t.total,size:"small","show-total":"","show-elevator":"","show-sizer":"",placement:"top","page-size":t.pageData.size,current:t.pageData.page},on:{"on-change":t.getPage,"on-page-size-change":t.getPageSize}})],1)])],1)},i=[];a._withStripped=!0;var o={render:a,staticRenderFns:i};e.default=o}});