webpackJsonp([0],{jXkL:function(t,e){},jwXd:function(t,e,s){"use strict";function a(t){return("00"+t).substr(t.length)}Object.defineProperty(e,"__esModule",{value:!0});var n=s("TVG1"),i={data:function(){return{isCollapsed:!1,writeShow:!1,task:[],taskText:null}},computed:{rotateIcon:function(){return["menu-icon",this.isCollapsed?"rotate-icon":""]},wHeight:function(){return window.innerHeight+"px"},fWidth:{get:function(){return this.isCollapsed?"100%":"85%"},set:function(t){return this.isCollapsed?"100%":"85%"}}},filters:{format:function(t){return function(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var n in s)if(new RegExp("("+n+")").test(e)){var i=s[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?i:a(i))}return e}(new Date(t),"yyyy-MM-dd hh:mm:ss")}},watch:{isCollapsed:function(t){this.fWidth=t?"100%":"85%"}},mounted:function(){var t=this;n.a.ajax.get("/api/v1/task").then(function(e){1==e.data.status&&(t.task=e.data.data.map(function(t){return t.status=1===t.status,t}),t.$Message.info(e.data.msg))})},methods:{changeStatus:function(t,e){var s=this;n.a.ajax.put("/api/v1/task",{id:e,status:t[0]}).then(function(t){1==t.data.status&&s.$Message.info(t.data.msg)})},pushTask:function(){var t=this;n.a.ajax.post("/api/v1/task",{createTime:Date.now(),content:this.taskText,status:!1}).then(function(e){1==e.data.status&&(t.task.push({createTime:Date.now(),content:t.taskText,status:!1}),t.taskText=null,t.writeShow=!1,t.$Message.info(e.data.msg))})},collapsedSider:function(){this.$refs.side.toggleCollapse()},showWrite:function(){this.writeShow=!this.writeShow}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Layout",[s("Sider",{ref:"side",style:{minHeight:t.wHeight},attrs:{breakpoint:"md","hide-trigger":"",collapsible:"","collapsed-width":0},model:{value:t.isCollapsed,callback:function(e){t.isCollapsed=e},expression:"isCollapsed"}}),t._v(" "),s("Layout",[s("Header",{staticClass:"layout-header-bar",style:{padding:0,position:"fixed",width:t.fWidth,zIndex:"888"}},[s("Icon",{class:t.rotateIcon,style:{margin:"20px 20px 0"},attrs:{type:"navicon-round",size:"24"},nativeOn:{click:function(e){return t.collapsedSider(e)}}}),t._v(" "),s("Icon",{style:{margin:"20px 20px 0",float:"right"},attrs:{type:"ios-compose",size:"24"},nativeOn:{click:function(e){return t.showWrite(e)}}})],1),t._v(" "),s("Card",{style:{margin:"88px 20px",background:"#fff",minWidth:"220px",padding:"20px"}},[s("Timeline",t._l(t.task,function(e,a){return s("TimelineItem",{key:a,attrs:{color:e.status?"#bbbec4":"green"}},[s("div",{staticClass:"time"},[t._v(t._s(t._f("format")(e.createTime)))]),t._v(" "),s("Row",{attrs:{type:"flex",justify:"space-between"}},[s("Col",{attrs:{span:"1"}},[s("Checkbox",{on:{"on-change":function(s){t.changeStatus(arguments,e.id)}},model:{value:e.status,callback:function(s){t.$set(e,"status",s)},expression:"obj.status"}})],1),t._v(" "),s("Col",{staticClass:"content",class:{achieve:e.status},attrs:{span:"22"}},[t._v(t._s(e.content))])],1)],1)}))],1),t._v(" "),s("transition",{attrs:{name:"drop"}},[s("Footer",{directives:[{name:"show",rawName:"v-show",value:t.writeShow,expression:"writeShow"}],style:{width:t.fWidth}},[s("Row",{attrs:{type:"flex",justify:"space-between",align:"top"}},[s("Col",{staticStyle:{margin:"10px 0 0"},attrs:{xs:24,sm:24,md:24,lg:24}},[s("Input",{attrs:{type:"textarea",autosize:!0,placeholder:"Enter something..."},model:{value:t.taskText,callback:function(e){t.taskText=e},expression:"taskText"}})],1),t._v(" "),s("Col",{staticStyle:{margin:"10px 0 0"},attrs:{xs:24,sm:24,md:24,lg:24}},[s("Button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:t.pushTask}},[t._v("发布")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var r=s("VU/8")(i,o,!1,function(t){s("jXkL")},"data-v-58b66e18",null);e.default=r.exports}});
//# sourceMappingURL=0.2bd2101c3fab11b1c443.js.map