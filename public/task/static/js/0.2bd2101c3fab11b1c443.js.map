{"version":3,"sources":["webpack:///./src/libs/date.js","webpack:///src/view/page.vue","webpack:///./src/view/page.vue?d14f","webpack:///./src/view/page.vue"],"names":["padLeftZero","str","substr","length","page","data","isCollapsed","writeShow","task","taskText","computed","rotateIcon","this","wHeight","window","innerHeight","fWidth","get","set","val","filters","format","time","date","fmt","test","replace","RegExp","$1","getFullYear","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","k","formatDate","Date","watch","mounted","_this","util","ajax","then","res","status","map","cur","$Message","info","msg","methods","changeStatus","args","id","_this2","put","pushTask","_this3","post","createTime","now","content","push","collapsedSider","$refs","side","toggleCollapse","showWrite","view_page","render","_vm","_h","$createElement","_c","_self","ref","style","minHeight","attrs","breakpoint","hide-trigger","collapsible","collapsed-width","model","value","callback","$$v","expression","_v","staticClass","padding","position","width","zIndex","class","margin","type","size","nativeOn","click","$event","float","background","minWidth","_l","obj","index","key","color","_s","_f","justify","span","on","on-change","arguments","$set","achieve","name","directives","rawName","align","staticStyle","xs","sm","md","lg","autosize","placeholder","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"task/static/js/0.2bd2101c3fab11b1c443.js","sourcesContent":["/**\r\n * 将时间戳转成指定格式\r\n */\r\nexport function formatDate(date, fmt) {\r\n    if (/(y+)/.test(fmt)) {\r\n      fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n    }\r\n    let o = {\r\n      'M+': date.getMonth() + 1,\r\n      'd+': date.getDate(),\r\n      'h+': date.getHours(),\r\n      'm+': date.getMinutes(),\r\n      's+': date.getSeconds()\r\n    };\r\n    for (let k in o) {\r\n      if (new RegExp(`(${k})`).test(fmt)) {\r\n        let str = o[k] + '';\r\n        fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? str : padLeftZero(str));\r\n      }\r\n    }\r\n    return fmt;\r\n  };\r\n  \r\n  function padLeftZero(str) {\r\n    return ('00' + str).substr(str.length);\r\n  }\r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/libs/date.js","<template>\n    <Layout>\n            <Sider ref=\"side\" breakpoint=\"md\" hide-trigger collapsible :collapsed-width=\"0\" v-model=\"isCollapsed\" :style=\"{minHeight:wHeight}\">\n\n            </Sider>\n            <Layout>\n                <Header :style=\"{padding: 0,position: 'fixed', width: fWidth,zIndex:'888'}\" class=\"layout-header-bar\">\n                    <Icon @click.native=\"collapsedSider\" :class=\"rotateIcon\" :style=\"{margin: '20px 20px 0'}\" type=\"navicon-round\" size=\"24\"></Icon>\n                    <Icon @click.native=\"showWrite\" :style=\"{margin: '20px 20px 0',float:'right'}\" type=\"ios-compose\" size=\"24\"></Icon>\n                </Header>\n                <Card :style=\"{margin: '88px 20px', background: '#fff', minWidth:'220px',padding:'20px'}\">\n                    <Timeline>\n                        <TimelineItem v-for=\"(obj,index) in task\" :key=index :color=\"obj.status?'#bbbec4':'green'\">\n                            <div class=\"time\">{{obj.createTime | format}}</div>\n                            <Row type=\"flex\"  justify=\"space-between\">\n                                <Col span=\"1\" >\n                                    <Checkbox v-model=\"obj.status\" @on-change=\"changeStatus(arguments,obj.id)\"></Checkbox>\n                                </Col>\n                                <Col  span=\"22\" class=\"content\" :class=\"{ achieve: obj.status }\">{{obj.content}}</Col>\n                                \n                            </Row>\n                            \n                        </TimelineItem>\n                    </Timeline>\n                </Card>\n                <transition name=\"drop\" >\n                    <Footer :style=\"{width:fWidth}\" v-show=\"writeShow\">\n                        <Row type=\"flex\" justify=\"space-between\" align=\"top\">\n                            <Col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" style=\"margin:10px 0 0\">\n                                <Input  type=\"textarea\" v-model=\"taskText\" :autosize=\"true\" placeholder=\"Enter something...\"></Input>\n                            </Col>\n                            <Col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"24\" style=\"margin:10px 0 0\">\n                                <Button type=\"warning\" style=\"float:right\" @click=\"pushTask\">发布</Button>\n                            </Col>\n                        </Row>\n                    </Footer>\n                </transition>\n            </Layout>\n        </Layout>\n</template>\n<script>\nimport { formatDate } from \"@/libs/date\";\nimport Util from \"@/libs/util\";\nexport default {\n  data() {\n    return {\n      isCollapsed: false,\n      writeShow: false,\n      task: [],\n      taskText: null\n    };\n  },\n  computed: {\n    rotateIcon() {\n      return [\"menu-icon\", this.isCollapsed ? \"rotate-icon\" : \"\"];\n    },\n    wHeight() {\n      return window.innerHeight + \"px\";\n    },\n    fWidth: {\n      get() {\n        return this.isCollapsed ? \"100%\" : \"85%\";\n      },\n      set(val) {\n        return this.isCollapsed ? \"100%\" : \"85%\";\n      }\n    }\n  },\n  filters: {\n    format(time) {\n      let date = new Date(time);\n      return formatDate(date, \"yyyy-MM-dd hh:mm:ss\");\n    }\n  },\n  watch: {\n    isCollapsed(val) {\n      if (val) {\n        this.fWidth = \"100%\";\n      } else {\n        this.fWidth = \"85%\";\n      }\n    }\n  },\n  mounted() {\n    Util.ajax.get(\"/api/v1/task\").then(res => {\n      if (res.data.status == 1) {\n        this.task = res.data.data.map(cur=>{\n            cur.status=cur.status===1;\n            return cur;\n        });\n        this.$Message.info(res.data.msg);\n      }\n    });\n  },\n  methods: {\n    changeStatus(args,id) {\n      Util.ajax\n        .put(\"/api/v1/task\", {\n          id: id,\n          status: args[0]\n        })\n        .then(res => {\n          if (res.data.status == 1) {\n            this.$Message.info(res.data.msg);\n          }\n        });\n    },\n    pushTask() {\n      Util.ajax\n        .post(\"/api/v1/task\", {\n          createTime: Date.now(),\n          content: this.taskText,\n          status: false\n        })\n        .then(res => {\n          if (res.data.status == 1) {\n            this.task.push({\n              createTime: Date.now(),\n              content: this.taskText,\n              status: false\n            });\n            this.taskText = null;\n            this.writeShow = false;\n            this.$Message.info(res.data.msg);\n          }\n        });\n    },\n    collapsedSider() {\n      this.$refs.side.toggleCollapse();\n    },\n    showWrite() {\n      this.writeShow = !this.writeShow;\n    }\n  }\n};\n</script>\n<style scoped>\n.layout {\n  background: #f5f7f9;\n  position: relative;\n\n  overflow: hidden;\n}\n.layout-header-bar {\n  background: #fff;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n}\n.layout-logo-left {\n  width: 90%;\n  height: 30px;\n  background: #5b6270;\n  border-radius: 3px;\n  margin: 15px auto;\n}\n.menu-icon {\n  transition: all 0.3s;\n}\n.rotate-icon {\n  transform: rotate(-90deg);\n}\n.menu-item span {\n  display: inline-block;\n  overflow: hidden;\n  width: 69px;\n  text-overflow: ellipsis;\n  /* white-space: nowrap;\n  vertical-align: bottom; */\n  transition: width 0.3s ease 0.3s;\n}\n.menu-item i {\n  transform: translateX(0px);\n  transition: font-size 0.3s ease, transform 0.3s ease;\n  vertical-align: middle;\n  font-size: 16px;\n}\n.collapsed-menu span {\n  width: 0px;\n  transition: width 0.3s ease;\n}\n.collapsed-menu i {\n  transform: translateX(5px);\n  transition: font-size 0.3s ease 0.3s, transform 0.3s ease 0.3s;\n  vertical-align: middle;\n  font-size: 22px;\n}\n.ivu-layout-footer {\n  background: #ffffff;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);\n  position: fixed;\n  border-radius: 4px;\n  margin: 0 auto;\n  top: 64px;\n  padding: 4px 20px;\n}\n.ivu-layout-footer.drop-enter-active,\n.ivu-layout-footer.drop-leave-active {\n  transition: all 0.2s linear;\n}\n\n.ivu-layout-footer.drop-enter,\n.ivu-layout-footer.drop-leave-active {\n  transform: translate3d(0, -100%, 0);\n}\n.time {\n  font-size: 14px;\n  font-weight: bold;\n}\n.content {\n  font-size: 14px;\n  color: #5b6270;\n}\n.achieve {\n  text-decoration: line-through;\n  color: #bbbec4;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[_c('Sider',{ref:\"side\",style:({minHeight:_vm.wHeight}),attrs:{\"breakpoint\":\"md\",\"hide-trigger\":\"\",\"collapsible\":\"\",\"collapsed-width\":0},model:{value:(_vm.isCollapsed),callback:function ($$v) {_vm.isCollapsed=$$v},expression:\"isCollapsed\"}}),_vm._v(\" \"),_c('Layout',[_c('Header',{staticClass:\"layout-header-bar\",style:({padding: 0,position: 'fixed', width: _vm.fWidth,zIndex:'888'})},[_c('Icon',{class:_vm.rotateIcon,style:({margin: '20px 20px 0'}),attrs:{\"type\":\"navicon-round\",\"size\":\"24\"},nativeOn:{\"click\":function($event){return _vm.collapsedSider($event)}}}),_vm._v(\" \"),_c('Icon',{style:({margin: '20px 20px 0',float:'right'}),attrs:{\"type\":\"ios-compose\",\"size\":\"24\"},nativeOn:{\"click\":function($event){return _vm.showWrite($event)}}})],1),_vm._v(\" \"),_c('Card',{style:({margin: '88px 20px', background: '#fff', minWidth:'220px',padding:'20px'})},[_c('Timeline',_vm._l((_vm.task),function(obj,index){return _c('TimelineItem',{key:index,attrs:{\"color\":obj.status?'#bbbec4':'green'}},[_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"format\")(obj.createTime)))]),_vm._v(\" \"),_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('Col',{attrs:{\"span\":\"1\"}},[_c('Checkbox',{on:{\"on-change\":function($event){_vm.changeStatus(arguments,obj.id)}},model:{value:(obj.status),callback:function ($$v) {_vm.$set(obj, \"status\", $$v)},expression:\"obj.status\"}})],1),_vm._v(\" \"),_c('Col',{staticClass:\"content\",class:{ achieve: obj.status },attrs:{\"span\":\"22\"}},[_vm._v(_vm._s(obj.content))])],1)],1)}))],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"drop\"}},[_c('Footer',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.writeShow),expression:\"writeShow\"}],style:({width:_vm.fWidth})},[_c('Row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"align\":\"top\"}},[_c('Col',{staticStyle:{\"margin\":\"10px 0 0\"},attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":true,\"placeholder\":\"Enter something...\"},model:{value:(_vm.taskText),callback:function ($$v) {_vm.taskText=$$v},expression:\"taskText\"}})],1),_vm._v(\" \"),_c('Col',{staticStyle:{\"margin\":\"10px 0 0\"},attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":24}},[_c('Button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"warning\"},on:{\"click\":_vm.pushTask}},[_vm._v(\"发布\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-58b66e18\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-58b66e18\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./page.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-58b66e18\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-58b66e18\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}