webpackJsonp([4],{AUhy:function(t,s){},JU1R:function(t,s,e){"use strict";e.d(s,"a",function(){return o});var o=[{path:"/goods",name:"goods",meta:{title:"商品"},component:function(t){e.e(0).then(function(){var s=[e("uMyE")];t.apply(null,s)}.bind(this)).catch(e.oe)}},{path:"/ratings",name:"ratings",meta:{title:"评价"},component:function(t){e.e(1).then(function(){var s=[e("oHR0")];t.apply(null,s)}.bind(this)).catch(e.oe)}},{path:"/near",name:"near",meta:{title:"附近"},component:function(t){e.e(2).then(function(){var s=[e("H0uS")];t.apply(null,s)}.bind(this)).catch(e.oe)}}]},Kmt2:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=e("7+uW"),n=e("bGai"),a=e("N6ty"),i=e.n(a),r={name:"App",components:{"s-header":n.b},created:function(){console.log((new i.a).get()),this.$router.push({name:"goods"})}},l={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("s-header"),this._v(" "),s("div",{staticClass:"tab"},[s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/goods"}},[this._v("商品")])],1),this._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/ratings"}},[this._v("评论")])],1),this._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"/near"}},[this._v("附近")])],1)]),this._v(" "),s("keep-alive",[s("router-view")],1)],1)},staticRenderFns:[]};var c=e("VU/8")(r,l,!1,function(t){e("aRsx")},"data-v-0269fd43",null).exports,u=e("YaEn"),d=e("mtWM"),h=e.n(d),f=e("Rf8U"),p=e.n(f);o.a.use(p.a,h.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:u.a,components:{App:c},template:"<App/>"})},YaEn:function(t,s,e){"use strict";(function(t){var o=e("7+uW"),n=e("/ocq"),a=e("JU1R");o.a.use(n.a);var i={mode:"hash",base:t,routes:a.a},r=new n.a(i);r.beforeEach(function(t,s,e){e()}),r.afterEach(function(){window.scrollTo(0,0)}),s.a=r}).call(s,"/")},aRsx:function(t,s){},bGai:function(t,s,e){"use strict";var o={name:"cartcontrol",props:{food:{type:Object}},methods:{addCart:function(t){t._constructed&&(this.food.count?this.food.count++:this.$set(this.food,"count",1),this.$emit("add",t.target))},decreaseCart:function(t){t._constructed&&this.food.count&&this.food.count--}}},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cartcontrol"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-decrease ",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.decreaseCart(s)}}},[e("span",{staticClass:"inner icon-remove_circle_outline"})])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.food.count>0,expression:"food.count>0"}],staticClass:"cart-count"},[t._v(t._s(t.food.count))]),t._v(" "),e("div",{staticClass:"cart-add icon-add_circle",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.addCart(s)}}})],1)},staticRenderFns:[]};var a=e("VU/8")(o,n,!1,function(t){e("AUhy")},"data-v-1e2c3ea3",null).exports,i={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"header"})},staticRenderFns:[]};var r=e("VU/8")({},i,!1,function(t){e("Kmt2")},"data-v-4b07c0eb",null).exports,l=e("GQaK"),c={name:"scroll",props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},20)},methods:{_initScroll:function(){var t=this;this.$refs.wrapper&&(this.scroll=new l.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX}),this.listenScroll&&this.scroll.on("scroll",function(s){t.$emit("scroll",s)}),this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+50&&t.$emit("scrollToEnd")}),this.pulldown&&this.scroll.on("touchend",function(s){s.y>50&&t.$emit("pulldown")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")}))},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}}},u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"wrapper"},[this._t("default")],2)},staticRenderFns:[]},d=e("VU/8")(c,u,!1,null,null,null).exports,h={name:"shopcart",props:{selectFoods:{type:Array,default:function(){return[{price:10,count:1}]}},deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}},data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!0}},components:{scroll:d,cartcontrol:a},computed:{totalPrice:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.price*s.count}),t},totalCount:function(){var t=0;return this.selectFoods.forEach(function(s){t+=s.count}),t},payDesc:function(){return 0===this.totalPrice?"选择商品":"去结算"},payClass:function(){return this.totalPrice<=this.minPrice?"not-enough":"enough"},showList:function(){if(!this.totalCount)return this.fold=!0,!1;var t=!this.fold;return t}},methods:{drop:function(t){for(var s=0;s<this.balls.length;s++){var e=this.balls[s];if(!e.show)return e.show=!0,e.el=t,void this.dropBalls.push(e)}},toggleList:function(){this.totalCount&&(this.fold=!this.fold)},hideList:function(){this.fold=!0},empty:function(){this.selectFoods.forEach(function(t){t.count=0})},pay:function(){this.totalPrice<this.minPrice||window.alert("支付"+this.totalPrice+"元")},addFood:function(t){this.drop(t)},beforeDrop:function(t){for(var s=this.balls.length;s--;){var e=this.balls[s];if(e.show){var o=e.el.getBoundingClientRect(),n=o.left-32,a=-(window.innerHeight-o.top-22);t.style.display="",t.style.webkitTransform="translate3d(0,"+a+"px,0)",t.style.transform="translate3d(0,"+a+"px,0)";var i=t.getElementsByClassName("inner-hook")[0];i.style.webkitTransform="translate3d("+n+"px,0,0)",i.style.transform="translate3d("+n+"px,0,0)"}}},dropping:function(t,s){t.offsetHeight;this.$nextTick(function(){t.style.webkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)";var e=t.getElementsByClassName("inner-hook")[0];e.style.webkitTransform="translate3d(0,0,0)",e.style.transform="translate3d(0,0,0)",t.addEventListener("transitionend",s)})},afterDrop:function(t){var s=this.dropBalls.shift();s&&(s.show=!1,t.style.display="none")}}},f={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content",on:{click:t.toggleList}},[e("div",{staticClass:"content-left"},[e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"logo",class:{highlight:t.totalCount>0}},[e("i",{staticClass:"icon-shopping_cart",class:{highlight:t.totalCount>0}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount>0"}],staticClass:"num"},[e("span",[t._v(t._s(t.totalCount))])])]),t._v(" "),e("div",{staticClass:"price",class:{highlight:t.totalPrice>0}},[t._v("￥"+t._s(t.totalPrice))]),t._v(" "),e("div",{staticClass:"desc"},[t._v("另需配送费￥"+t._s(t.deliveryPrice)+"元")])]),t._v(" "),e("div",{staticClass:"content-right",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.pay(s)}}},[e("div",{staticClass:"pay",class:t.payClass},[t._v("\n          "+t._s(t.payDesc)+"\n        ")])])]),t._v(" "),e("div",{staticClass:"ball-container"},t._l(t.balls,function(s,o){return e("div",{key:o},[e("transition",{attrs:{name:"drop"},on:{"before-enter":t.beforeDrop,enter:t.dropping,"after-enter":t.afterDrop}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"ball.show"}],staticClass:"ball"},[e("div",{staticClass:"inner inner-hook"})])])],1)})),t._v(" "),e("transition",{attrs:{name:"fold"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"shopcart-list"},[e("div",{staticClass:"list-header"},[e("h1",{staticClass:"title"},[t._v("购物车")]),t._v(" "),e("span",{staticClass:"empty",on:{click:t.empty}},[t._v("清空")])]),t._v(" "),e("scroll",{ref:"listContent",staticClass:"list-content",attrs:{data:t.selectFoods}},[e("ul",t._l(t.selectFoods,function(s,o){return e("li",{key:o,staticClass:"food"},[e("span",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"price"},[e("span",[t._v("￥"+t._s(s.price*s.count))])]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("cartcontrol",{attrs:{food:s},on:{add:t.addFood}})],1)])}))])],1)])],1),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"list-mask",on:{click:t.hideList}})])],1)},staticRenderFns:[]};var p=e("VU/8")(h,f,!1,function(t){e("xfBt")},null,null).exports;e.d(s,"a",function(){return a}),e.d(s,"b",function(){return r}),e.d(s,"c",function(){return d}),e.d(s,"d",function(){return p})},xfBt:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.96d9649a9ed38dc85ca4.js.map