{"version":3,"sources":["webpack:///src/views/ratings/index.vue","webpack:///./src/views/ratings/index.vue?109e","webpack:///./src/views/ratings/index.vue"],"names":["ratings","name","props","seller","type","Object","data","selectType","onlyContent","created","_this","this","util","ajax","post","shopId","js_cookie_default","a","get","then","res","result","methods","needShow","text","selectRating","_this2","$nextTick","$refs","refresh","toggleContent","_this3","filters","formatDate","time","date","Date","js_date","components","scroll","star","split","ratingselect","views_ratings","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","_l","rating","index","directives","rawName","value","rateType","expression","key","width","height","src","_v","_s","size","score","deliveryTime","recommend","length","item","_f","rateTime","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.a78b5f4a8d0b826a769f.js","sourcesContent":["<template>\r\n  <scroll class=\"ratings\"\r\n            :data=\"ratings\"\r\n            ref=\"ratings\">\r\n            <div class=\"ratings-content\">\r\n      <!-- <div class=\"overview\">\r\n        <div class=\"overview-left\">\r\n          <h1 class=\"score\">{{seller.score}}</h1>\r\n          <div class=\"title\">综合评分</div>\r\n          <div class=\"rank\">高于周边商家{{seller.rankRate}}%</div>\r\n        </div>\r\n        <div class=\"overview-right\">\r\n          <div class=\"score-wrapper\">\r\n            <span class=\"title\">服务态度</span>\r\n            <star :size=\"36\" :score=\"seller.serviceScore\"></star>\r\n            <span class=\"score\">{{seller.serviceScore}}</span>\r\n          </div>\r\n          <div class=\"score-wrapper\">\r\n            <span class=\"title\">商品评分</span>\r\n            <star :size=\"36\" :score=\"seller.foodScore\"></star>\r\n            <span class=\"score\">{{seller.foodScore}}</span>\r\n          </div>\r\n          <div class=\"delivery-wrapper\">\r\n            <span class=\"title\">送达时间</span>\r\n            <span class=\"delivery\">{{seller.deliveryTime}}分钟</span>\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n      <!-- <split></split> -->\r\n      <!-- <ratingselect @select=\"selectRating\" @toggle=\"toggleContent\" :selectType=\"selectType\" :onlyContent=\"onlyContent\"\r\n                    :ratings=\"ratings\"/> -->\r\n     \r\n     \r\n      <div class=\"rating-wrapper\">\r\n        <ul>\r\n          <li v-for=\"(rating,index) in ratings\" v-show=\"needShow(rating.rateType, rating.text)\" class=\"rating-item\" :key=\"index\"> \r\n            <div class=\"avatar\">\r\n              <img width=\"28\" height=\"28\" src=\"http://static.galileo.xiaojukeji.com/static/tms/default_header.png\">\r\n            </div>\r\n            <div class=\"content\">\r\n              <h1 class=\"name\">{{rating.name}}</h1>\r\n              <div class=\"star-wrapper\">\r\n                <star :size=\"24\" :score=\"rating.score\"></star>\r\n                <span class=\"delivery\" v-show=\"rating.deliveryTime\">{{rating.deliveryTime}}</span>\r\n              </div>\r\n              <p class=\"text\">{{rating.text}}</p>\r\n              <div class=\"recommend\" v-show=\"rating.recommend && rating.recommend.length\">\r\n                <span class=\"icon-thumb_up\"></span>\r\n                <span class=\"item\" v-for=\"(item,index) in rating.recommend\" :key=\"index\">{{item}}</span>\r\n              </div>\r\n              <div class=\"time\">\r\n                {{rating.rateTime | formatDate}}\r\n              </div>\r\n            </div>\r\n          </li>\r\n         \r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </scroll>\r\n  \r\n</template>\r\n\r\n<script>\r\nimport { scroll, star, ratingselect, split } from \"@/components\";\r\nimport { formatDate } from \"@/common/js/date\";\r\nimport Util from \"@/libs/util\";\r\nimport Cookies from \"js-cookie\";\r\nconst ALL = 2;\r\nconst ERR_OK = 0;\r\n//const debug = process.env.NODE_ENV !== \"production\";\r\nexport default {\r\n  name:'ratings',\r\n  props: {\r\n    seller: {\r\n      type: Object\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      ratings: [],\r\n      selectType: ALL,\r\n      onlyContent: true\r\n    };\r\n  },\r\n  created() {\r\n    // Util.ajax.get(\"/api/ratings\").then(res => {\r\n    //   this.ratings = res.data.data;\r\n    // });\r\n     Util.ajax.post(\"/api/client/shop/ratings\",{\r\n       shopId:Cookies.get('shopId')\r\n     }).then(res => {\r\n      this.ratings = res.data.result;\r\n    });\r\n  },\r\n  methods: {\r\n    needShow(type, text) {\r\n      if (this.onlyContent && !text) {\r\n        return false;\r\n      }\r\n      if (this.selectType === ALL) {\r\n        return true;\r\n      } else {\r\n        return type === this.selectType;\r\n      }\r\n    },\r\n    selectRating(type) {\r\n      this.selectType = type;\r\n      this.$nextTick(() => {\r\n        this.$refs.ratings.refresh();\r\n      });\r\n    },\r\n    toggleContent() {\r\n      this.onlyContent = !this.onlyContent;\r\n      this.$nextTick(() => {\r\n        this.$refs.ratings.refresh();\r\n      });\r\n    }\r\n  },\r\n  filters: {\r\n    formatDate(time) {\r\n      let date = new Date(time);\r\n      return formatDate(date, \"yyyy-MM-dd hh:mm\");\r\n    }\r\n  },\r\n  components: {\r\n    scroll,\r\n    star,\r\n    split,\r\n    ratingselect\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.ratings {\r\n  position: absolute;\r\n  top: 147px;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  .overview {\r\n    display: flex;\r\n    padding: 18px 0;\r\n    .overview-left {\r\n      flex: 0 0 137px;\r\n      padding: 6px 0;\r\n      width: 137px;\r\n      border-right: 1px solid rgba(7, 17, 27, 0.1);\r\n      text-align: center;\r\n      @media only screen and (max-width: 320px) {\r\n        flex: 0 0 120px;\r\n        width: 120px;\r\n      }\r\n\r\n      .score {\r\n        margin-bottom: 6px;\r\n        line-height: 28px;\r\n        font-size: 24px;\r\n        color: rgb(255, 153, 0);\r\n      }\r\n\r\n      .title {\r\n        margin-bottom: 8px;\r\n        line-height: 12px;\r\n        font-size: 12px;\r\n        color: rgb(7, 17, 27);\r\n      }\r\n\r\n      .rank {\r\n        line-height: 10px;\r\n        font-size: 10px;\r\n        color: rgb(147, 153, 159);\r\n      }\r\n    }\r\n    .overview-right {\r\n      flex: 1;\r\n      padding: 6px 0 6px 24px;\r\n      @media only screen and (max-width: 320px) {\r\n        padding-left: 6px;\r\n      }\r\n\r\n      .score-wrapper {\r\n        margin-bottom: 8px;\r\n        font-size: 0;\r\n        .title {\r\n          display: inline-block;\r\n          line-height: 18px;\r\n          vertical-align: top;\r\n          font-size: 12px;\r\n          color: rgb(7, 17, 27);\r\n        }\r\n\r\n        .star {\r\n          display: inline-block;\r\n          margin: 0 12px;\r\n          vertical-align: top;\r\n        }\r\n\r\n        .score {\r\n          display: inline-block;\r\n          line-height: 18px;\r\n          vertical-align: top;\r\n          font-size: 12px;\r\n          color: rgb(255, 153, 0);\r\n        }\r\n      }\r\n      .delivery-wrapper {\r\n        font-size: 0;\r\n        .title {\r\n          line-height: 18px;\r\n          font-size: 12px;\r\n          color: rgb(7, 17, 27);\r\n        }\r\n\r\n        .delivery {\r\n          margin-left: 12px;\r\n          font-size: 12px;\r\n          color: rgb(147, 153, 159);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .rating-wrapper {\r\n    padding: 0 18px;\r\n    .rating-item {\r\n      display: flex;\r\n      padding: 18px 0;\r\n      //border-1px(rgba(7, 17, 27, 0.1))\r\n      .avatar {\r\n        flex: 0 0 28px;\r\n        width: 28px;\r\n        margin-right: 12px;\r\n        img {\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n\r\n      .content {\r\n        position: relative;\r\n        flex: 1;\r\n        .name {\r\n          margin-bottom: 4px;\r\n          line-height: 12px;\r\n          font-size: 10px;\r\n          color: rgb(7, 17, 27);\r\n        }\r\n\r\n        .star-wrapper {\r\n          margin-bottom: 6px;\r\n          font-size: 0;\r\n          .star {\r\n            display: inline-block;\r\n            margin-right: 6px;\r\n            vertical-align: top;\r\n          }\r\n\r\n          .delivery {\r\n            display: inline-block;\r\n            vertical-align: top;\r\n            line-height: 12px;\r\n            font-size: 10px;\r\n            color: rgb(147, 153, 159);\r\n          }\r\n        }\r\n        .text {\r\n          margin-bottom: 8px;\r\n          line-height: 18px;\r\n          color: rgb(7, 17, 27);\r\n          font-size: 12px;\r\n        }\r\n\r\n        .recommend {\r\n          line-height: 16px;\r\n          font-size: 0;\r\n          .icon-thumb_up,\r\n          .item {\r\n            display: inline-block;\r\n            margin: 0 8px 4px 0;\r\n            font-size: 9px;\r\n          }\r\n\r\n          .icon-thumb_up {\r\n            color: rgb(0, 160, 220);\r\n          }\r\n\r\n          .item {\r\n            padding: 0 6px;\r\n            border: 1px solid rgba(7, 17, 27, 0.1);\r\n            border-radius: 1px;\r\n            color: rgb(147, 153, 159);\r\n            background: #fff;\r\n          }\r\n        }\r\n        .time {\r\n          position: absolute;\r\n          top: 0;\r\n          right: 0;\r\n          line-height: 12px;\r\n          font-size: 10px;\r\n          color: rgb(147, 153, 159);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/ratings/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"ratings\",staticClass:\"ratings\",attrs:{\"data\":_vm.ratings}},[_c('div',{staticClass:\"ratings-content\"},[_c('div',{staticClass:\"rating-wrapper\"},[_c('ul',_vm._l((_vm.ratings),function(rating,index){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.needShow(rating.rateType, rating.text)),expression:\"needShow(rating.rateType, rating.text)\"}],key:index,staticClass:\"rating-item\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"width\":\"28\",\"height\":\"28\",\"src\":\"http://static.galileo.xiaojukeji.com/static/tms/default_header.png\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h1',{staticClass:\"name\"},[_vm._v(_vm._s(rating.name))]),_vm._v(\" \"),_c('div',{staticClass:\"star-wrapper\"},[_c('star',{attrs:{\"size\":24,\"score\":rating.score}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(rating.deliveryTime),expression:\"rating.deliveryTime\"}],staticClass:\"delivery\"},[_vm._v(_vm._s(rating.deliveryTime))])],1),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(rating.text))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(rating.recommend && rating.recommend.length),expression:\"rating.recommend && rating.recommend.length\"}],staticClass:\"recommend\"},[_c('span',{staticClass:\"icon-thumb_up\"}),_vm._v(\" \"),_vm._l((rating.recommend),function(item,index){return _c('span',{key:index,staticClass:\"item\"},[_vm._v(_vm._s(item))])})],2),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(\"\\n              \"+_vm._s(_vm._f(\"formatDate\")(rating.rateTime))+\"\\n            \")])])])}))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-241a5147\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ratings/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-241a5147\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-241a5147\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-241a5147\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ratings/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}