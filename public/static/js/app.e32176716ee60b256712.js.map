{"version":3,"sources":["webpack:///./src/store/index.js","webpack:///./src/router/router.js","webpack:///src/App.vue","webpack:///./src/App.vue?98d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/libs/util.js","webpack:///./src/router/index.js","webpack:///./src/libs/remoteLoad.js"],"names":["__WEBPACK_IMPORTED_MODULE_0_vue__","use","__WEBPACK_IMPORTED_MODULE_1_vuex__","store","Store","state","bNavShow","shopId","user","mutations","changeBNav","val","changeShopId","undefined","__WEBPACK_IMPORTED_MODULE_2_js_cookie___default","a","set","changeUser","id","reduceMoney","money","__webpack_exports__","routers","path","redirect","name","meta","title","component","resolve","Promise","all","__webpack_require__","e","then","__WEBPACK_AMD_REQUIRE_ARRAY__","bind","this","catch","oe","children","App","data","bottomNav","util","activeTab","methods","handleChange","getAuth","promise_default","reject","ajax","post","fingerprint","fingerprint_default","get","res","err","Error","getUser","discern","loginType","_this","$store","commit","status","js_cookie_default","token","obj","$router","push","mounted","created","_this2","asyncToGenerator_default","regenerator_default","mark","_callee","wrap","_context","prev","next","window","AMap","AMapUI","Object","remoteLoad","stop","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","_v","directives","rawName","value","expression","staticClass","on","change","icon","to","staticRenderFns","src_App","normalizeComponent","ssrContext","vue_esm","muse_ui_default","config","productionTip","el","router","components","template","document","location","hash","split","__WEBPACK_IMPORTED_MODULE_1_axios___default","create","baseURL","timeout","interceptors","request","xtoken","headers","common","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","response","alert","__WEBPACK_IMPORTED_MODULE_3__router__","replace","__WEBPACK_IMPORTED_MODULE_4__libs_util__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","RouterConfig","mode","base","__dirname","routes","__WEBPACK_IMPORTED_MODULE_2__router_router__","beforeEach","from","__WEBPACK_IMPORTED_MODULE_3__store__","afterEach","scrollTo","url","hasCallback","scriptElement","createElement","body","appendChild","promise","addEventListener","removeScript","____callback____","src","createScript","removeChild"],"mappings":"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","file":"static/js/app.e32176716ee60b256712.js","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport Cookies from 'js-cookie';\r\nVue.use(Vuex);\r\nconst store = new Vuex.Store({\r\n    state: {\r\n        bNavShow: true,//底部状态栏是否显示\r\n        shopId:null,\r\n        user:null,\r\n    },\r\n    mutations: {\r\n        changeBNav (state,val) {\r\n            state.bNavShow=val;\r\n        },\r\n        /**\r\n         * \r\n         * @param {*} state \r\n         * @param {*} val \r\n         */\r\n        changeShopId(state,val){\r\n            if(val!=undefined){\r\n                Cookies.set(\"shopId\",val);\r\n            }\r\n            state.shopId=val;\r\n        },\r\n        changeUser(state,val){\r\n            if(val!=undefined){\r\n                Cookies.set(\"userId\",val.id);\r\n            }\r\n            state.user=val;\r\n        },\r\n        reduceMoney(state,val){\r\n            state.user.money=state.user.money-val;\r\n        }\r\n    }\r\n})\r\nexport default store;\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export const pay = {\r\n  path: '/pay',\r\n  name: 'pay',\r\n  meta: {\r\n    title: '支付'\r\n  },\r\n\r\n  component: resolve => {\r\n    require(['@/views/pay'], resolve);\r\n  }\r\n};\r\nexport const order = {\r\n  path: '/order',\r\n  name: 'order',\r\n  meta: {\r\n    title: '订单'\r\n  },\r\n\r\n  component: resolve => {\r\n    require(['@/views/order'], resolve);\r\n  }\r\n};\r\nexport const map = {\r\n  path: '/map',\r\n  name: 'map',\r\n  meta: {\r\n    title: '地图'\r\n  },\r\n\r\n  component: resolve => {\r\n    require(['@/views/map'], resolve);\r\n  }\r\n};\r\nexport const mine = {\r\n  path: '/mine',\r\n  name: 'mine',\r\n  meta: {\r\n    title: '我的'\r\n  },\r\n\r\n  component: resolve => {\r\n    require(['@/views/mine'], resolve);\r\n  }\r\n};\r\n\r\nexport const shop = {\r\n  path: '/shop',\r\n  name: 'shop',\r\n  meta: {\r\n    title: '商店'\r\n  },\r\n  component: resolve => {\r\n    require(['@/views/shop'], resolve);\r\n  },\r\n  children: [{\r\n      path: '/goods',\r\n      name: 'goods',\r\n      meta: {\r\n        title: '商品'\r\n      },\r\n      component: resolve => {\r\n        require(['@/views/goods'], resolve);\r\n      }\r\n    },\r\n    {\r\n      path: '/ratings',\r\n      name: 'ratings',\r\n      meta: {\r\n        title: '评价'\r\n      },\r\n      component: resolve => {\r\n        require(['@/views/ratings'], resolve);\r\n      }\r\n    },\r\n  ]\r\n};\r\nexport const home = {\r\n  path: '/',\r\n  redirect: '/map'\r\n};\r\nexport const routers = [\r\n  home,\r\n  order,\r\n  map,\r\n  mine,\r\n  shop,\r\n  pay,\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/router.js","<template>\n  <div id=\"app\">\n    <keep-alive>\n      <router-view ></router-view>\n    </keep-alive>\n    <mu-paper class=\"my-bottom\" v-show=\"$store.state.bNavShow\">\n      <mu-bottom-nav :value=\"bottomNav\" @change=\"handleChange\" >\n        <mu-bottom-nav-item value=\"map\" title=\"地图\" icon=\"map\" to=\"/map\"/>\n        <mu-bottom-nav-item value=\"order\" title=\"订单\" icon=\"assignment\" to=\"/order\"/>\n        <mu-bottom-nav-item value=\"mine\" title=\"我的\" icon=\"person pin\" to=\"/mine\"/>\n      </mu-bottom-nav>\n  </mu-paper>\n  </div>\n</template>\n\n<script>\nimport Fingerprint from \"fingerprintjs\";\nimport Util from \"@/libs/util\";\nimport Cookies from \"js-cookie\";\nimport remoteLoad from \"@/libs/remoteLoad\";\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      bottomNav: (() => Util.activeTab())(),\n      shopId: (() => Util.shopId())(),\n    };\n  },\n  methods: {\n    handleChange(val) {\n      this.bottomNav = val;\n    },\n    getAuth() {\n      return new Promise((resolve, reject) => {\n        Util.ajax\n          .post(\"/api/clientAuth\", {\n            fingerprint: new Fingerprint().get()\n          })\n          .then(res => {\n            resolve(res);\n          }) //失败返回\n          .catch(err => reject(new Error(err)));\n      });\n    },\n    getUser(discern) {\n      return new Promise((resolve, reject) => {\n        Util.ajax\n          .post(\"/api/client/userinfo\", {\n            discern: discern\n          })\n          .then(res => resolve(res))\n          .catch(err => reject(err));\n      });\n    },\n    loginType() {\n      this.$store.commit(\"changeShopId\", this.shopId);\n      this.getAuth()\n        .then(res => {\n          if (res.data.status === 1) {\n            Cookies.set(\"token\", \"Bearer \" + res.data.data.token);\n            return this.getUser(res.data.data.discern);\n          }\n        })\n        .then(obj => {\n          this.$store.commit('changeUser', obj.data.data);\n        });\n      if (this.shopId != undefined) {\n        this.$router.push({\n          name: \"shop\"\n        });\n      }\n    }\n  },\n  mounted() {\n    this.loginType();\n  },\n  async created() {\n    // 已载入高德地图API，则直接初始化地图\n    if (window.AMap && window.AMapUI) {\n      // 未载入高德地图API，则先载入API再初始化\n    } else {\n      await remoteLoad(\n        \"https://webapi.amap.com/maps?v=1.4.6&key=c42fafbe4ea7bdba7423b409392a4a2b\"\n      );\n      await remoteLoad(\"https://webapi.amap.com/ui/1.0/main.js\");\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#app {\n  height: 100vh;\n}\n// .mu-item-wrapper {\n//   display: flex;\n// }\n// .mu-paper {\n\n//   position: fixed;\n//   bottom: 0;\n//   width: 100%;\n// }\n.my-bottom {\n  z-index: 9999;\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('keep-alive',[_c('router-view')],1),_vm._v(\" \"),_c('mu-paper',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$store.state.bNavShow),expression:\"$store.state.bNavShow\"}],staticClass:\"my-bottom\"},[_c('mu-bottom-nav',{attrs:{\"value\":_vm.bottomNav},on:{\"change\":_vm.handleChange}},[_c('mu-bottom-nav-item',{attrs:{\"value\":\"map\",\"title\":\"地图\",\"icon\":\"map\",\"to\":\"/map\"}}),_vm._v(\" \"),_c('mu-bottom-nav-item',{attrs:{\"value\":\"order\",\"title\":\"订单\",\"icon\":\"assignment\",\"to\":\"/order\"}}),_vm._v(\" \"),_c('mu-bottom-nav-item',{attrs:{\"value\":\"mine\",\"title\":\"我的\",\"icon\":\"person pin\",\"to\":\"/mine\"}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-155945f6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-155945f6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-155945f6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-155945f6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport axios from 'axios'\nimport MuseUI from 'muse-ui'\nimport 'muse-ui/dist/muse-ui.css'\nimport 'muse-ui/dist/theme-carbon.css' // 使用 carbon 主题\nVue.use(MuseUI)\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\nimport router from '@/router';\r\nlet util = {\r\n\r\n};\r\nutil.title = function(title) {\r\n  title = title ? title : '吃货';\r\n  window.document.title = title;\r\n};\r\n/**\r\n * 解析url参数\r\n * @example /shopId=5\r\n * @return Number 5\r\n */\r\nutil.shopId = () => {\r\n  let url = window.location.hash;\r\n  return url.split(\"=\")[1];\r\n};\r\nutil.activeTab=()=>{\r\n  let url =window.location.hash;\r\n  return url.split(\"/\")[1];\r\n};\r\nutil.ajax = axios.create({\r\n  baseURL: 'https://shaodushu.cn',\r\n  //baseURL: 'http://192.168.137.1:3000',\r\n  timeout: 30000,\r\n});\r\nutil.ajax.interceptors.request.use(config => {\r\n  const xtoken = Cookies.get('token')\r\n  if (xtoken != null) {\r\n    config.headers.common['Authorization'] = xtoken\r\n  }\r\n  return config;\r\n}, err => Promise.reject(err));\r\n// http response 服务器响应拦截器，这里拦截401错误，并重新跳入登页重新获取token\r\nutil.ajax.interceptors.response.use(res => {\r\n  switch (res.status) {\r\n    case 200:\r\n      //window.alert(res.data.status === 1 ? 'success' : 'warning', res.data.msg);\r\n      break;\r\n  }\r\n  return res;\r\n}, err => {\r\n  if (err.response) {\r\n    switch (err.response.data.status) {\r\n      case 401:\r\n        window.alert('权限过期!');\r\n        router.replace({\r\n          path: '/',\r\n        });\r\n        break;\r\n      case 500:\r\n        window.alert('服务器500');\r\n        break;\r\n      default:\r\n        window.alert('服务器响应失败');\r\n        break;\r\n\r\n    }\r\n  }\r\n  return Promise.reject(err.response.data)\r\n});\r\nexport default util;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/util.js","/**\n * Created by 少读书 on 2018/1/30\n */\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport {\n  routers\n} from '@/router/router';\nimport store from '@/store';\nimport util from '@/libs/util';\n\nVue.use(VueRouter);\n\n// 路由配置\nconst RouterConfig = {\n  mode: 'hash',\n  base: __dirname,\n  routes: routers\n};\nconst router = new VueRouter(RouterConfig);\n\nrouter.beforeEach((to, from, next) => {\n  util.title(to.meta.title);\n  if (to.name === 'shop'||to.name==='pay') {\n    next();\n    store.commit('changeBNav', false);\n  } else {\n    next();\n    store.commit('changeBNav', true);\n  }\n  if (from.name === 'shop') {\n    if (to.name === null) {\n      next('/');\n    } else {\n      next();\n    }\n\n  }\n\n});\nrouter.afterEach(() => {\n  window.scrollTo(0, 0);\n});\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export default function remoteLoad (url, hasCallback) {\r\n    return createScript(url)\r\n    /**\r\n     * 创建script\r\n     * @param url\r\n     * @returns {Promise}\r\n     */\r\n    function createScript (url) {\r\n      var scriptElement = document.createElement('script')\r\n      document.body.appendChild(scriptElement)\r\n      var promise = new Promise((resolve, reject) => {\r\n        scriptElement.addEventListener('load', e => {\r\n          removeScript(scriptElement)\r\n          if (!hasCallback) {\r\n            resolve(e)\r\n          }\r\n        }, false)\r\n  \r\n        scriptElement.addEventListener('error', e => {\r\n          removeScript(scriptElement)\r\n          reject(e)\r\n        }, false)\r\n  \r\n        if (hasCallback) {\r\n          window.____callback____ = function () {\r\n            resolve()\r\n            window.____callback____ = null\r\n          }\r\n        }\r\n      })\r\n  \r\n      if (hasCallback) {\r\n        url += '&callback=____callback____'\r\n      }\r\n  \r\n      scriptElement.src = url\r\n  \r\n      return promise\r\n    }\r\n  \r\n    /**\r\n     * 移除script标签\r\n     * @param scriptElement script dom\r\n     */\r\n    function removeScript (scriptElement) {\r\n      document.body.removeChild(scriptElement)\r\n    }\r\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/libs/remoteLoad.js"],"sourceRoot":""}